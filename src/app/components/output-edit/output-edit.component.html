<div class="output-edit-container">
  <div class="header">
    <button class="back-button" (click)="cancel()">
      <img src="assets/icons/arrow-back.svg" width="24" height="24" alt="Back" />
    </button>
    <h2>Редактирование выхода</h2>
  </div>

  <div class="output-edit-form">
    <div class="form-group">
      <label for="name">Имя выхода</label>
      <input type="text" id="name" [(ngModel)]="output.name" />
    </div>

    <div class="form-group">
      <label for="type">Тип выхода</label>
      <select id="type" [(ngModel)]="output.type" (ngModelChange)="onTypeChange()">
        <option *ngFor="let type of outputTypes" [value]="type.value">
          {{ type.label }}
        </option>
      </select>
    </div>

    <!-- Timer-specific fields -->
    <div class="form-group" *ngIf="output.type === 't'">
      <label for="on">Кол-во секунд включения</label>
      <input type="number" id="on" [(ngModel)]="output.on" min="0" />
    </div>

    <div class="form-group" *ngIf="output.type === 't'">
      <label for="off">Кол-во секунд выключения</label>
      <input type="number" id="off" [(ngModel)]="output.off" min="0" />
    </div>

    <!-- Standard output fields -->
    <div class="form-group" *ngIf="output.type === 's'">
      <label for="limit">Лимит включения (сек)</label>
      <input type="number" id="limit" [(ngModel)]="output.limit" min="0" />
    </div>

    <div class="form-group">
      <label for="alice">Алиса</label>
      <input type="checkbox" id="alice" [(ngModel)]="output.alice" (ngModelChange)="onAliceChange()" />
    </div>

    <div class="form-group" *ngIf="output.alice">
      <label for="room">Название комнаты</label>
      <input type="text" id="room" [(ngModel)]="output.room" />
    </div>

    <div class="form-group">
      <label for="default">Значение при включении</label>
      <select id="default" [(ngModel)]="output.default">
        <option *ngFor="let value of defaultValues" [value]="value.value">
          {{ value.label }}
        </option>
      </select>
    </div>
    <div class="actions">
      <button class="cancel-button" (click)="cancel()">Отмена</button>
      <button class="save-button" (click)="save()">Сохранить</button>
    </div>
  </div>

</div>
